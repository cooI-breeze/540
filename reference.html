<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>reference</title>
    <style>
        P {
            margin: 0px;
        }

        button {
            display: flex;
            color: white;
            background-color: rgb(0, 0, 0, 0);
            padding: 0px;
            margin: 0px;
            width: 50px;
            height: 50px;
            font-size: large;
            transition: 0.5s;
            align-items: center;
            justify-content: center;
            background: url(img/back.png) no-repeat;
            background-size: 426px 50px;
            border-right: 0px;
            border-top: 0px;
            border-bottom: 0px;
        }

        button:hover {
            width: 150px;
        }

        button>span {
            display: flex;
            position: relative;
            left: 25px;
            color: white;
            border: 0px;
            margin: 0px;
            padding: 0px;
            height: 50px;
            width: 0px;
            opacity: 1;
            align-items: center;
            white-space: nowrap;
            transition: all 0.5s;
        }

        button:hover>span {
            width: 100px;
        }

        button:hover>span:active {
            background-color: rgb(60, 60, 60, 0.4);
            transition: 0s
        }

        p.md {
            color: mediumblue;
            text-decoration: underline;
            text-decoration-color: mediumblue;
            display: inline
        }

        @keyframes white {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes genshin {
            0% {
                opacity: 0;
            }

            87.5% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        img#white {
            opacity: 0;
            animation: white 7s forwards;
        }

        img#genshin {
            opacity: 0;
            animation: genshin 8s forwards;
        }
    </style>
    <script>
        function index() {
            window.location.assign("./index.html");
        }
        function index1() {
            window.location.assign("./gamehub.html");
        }
        function index2() {
            window.location.assign("./tool.html");
        }
        function index3() {
            window.location.assign("./document.html");
        }
        function index4() {
            var userAgent = navigator.userAgent;
            var isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
            var audio = document.createElement('embed');
            audio.src = 'audio/genshin.mp3';
            audio.width = 0;
            audio.height = 0;
            document.getElementById("body").appendChild(audio);
            var white = document.createElement("img");
            white.style.position = 'fixed';
            white.style.display = 'block';
            white.style.zIndex = 100;
            white.src = "img/white.png"; if (isMobile && window.orientation == 0) {
                white.width = window.screen.height;
                white.height = window.screen.width;
                white.style.top = (white.width - white.height) / 2 + 'px';
                white.style.left = (white.height - white.width) / 2 + 'px';
                white.style.transform = 'rotate(90deg)';
            } else {
                white.style.width = '100vw';
                white.style.height = '100vh';
                white.style.top = 0;
                white.style.left = 0;
            }
            white.id = 'white';
            document.getElementById("body").appendChild(white);
            var genshin = document.createElement("img");
            genshin.style.position = 'fixed';
            genshin.style.display = 'block';
            genshin.style.zIndex = 101;
            genshin.src = "img/genshin.png";
            if (isMobile && window.orientation == 0) {
                genshin.width = window.screen.height;
                genshin.height = window.screen.width;
                genshin.style.top = (genshin.width - genshin.height) / 2 + 'px';
                genshin.style.left = (genshin.height - genshin.width) / 2 + 'px';
                genshin.style.transform = 'rotate(90deg)';
            } else {
                genshin.style.width = '100vw';
                genshin.style.height = '100vh';
                genshin.style.top = 0;
                genshin.style.left = 0;
            }
            genshin.id = 'genshin'
            document.getElementById("body").appendChild(genshin);
            setTimeout(function () { removeall() }, 7000);
        }
        function removeall() {
            while (document.getElementById('body').children.length > 3) {
                document.getElementById('body').removeChild(document.getElementById('body').children[0]);
            }
        }
    </script>
</head>

<body id="body" style="margin: 0px;">
    <div
        style="display: flex; flex-direction: row-reverse; height: 50px;background-color: #393d49;background: url(img/back1.png) no-repeat;background-size:100% 100px;">
        <p onclick="index()"
            style="cursor: pointer;margin: 5px;font-size: 30px;position: absolute;left: 0px; color: wheat">540</p>
        <button style="z-index: 10;">1<span onclick="index1()">自制游戏</span></button>
        <button style="z-index: 9;">2<span onclick="index2()">奇妙工具</span></button>
        <button style="z-index: 8;">3<span onclick="index3()">文档</span></button>
        <button style="z-index: 7;">4<span id="genshin" onclick="index4()">元气</span></button>
    </div>
    <script>document.getElementById('genshin').addEventListener('click', function () { document.documentElement.requestFullscreen() })</script>
    <script>sk - cGzB0UqLQ3wiT4bw27C1T3BlbkFJtw3VrfVKYMQyQWoLvOvncd</script>

    <p>同一角色只可上场一个。每个人物、地块可以在除了技能目标选择时之外的任何时间被选中，并查看属性、技能。但只有在自己回合内才可移动、使用技能。</p>
    <p>生成模块(x,y)</p>
    <p>选择模块(id)</p>
    <p>受击模块(id,减少血量,伤害类型 物0真1,来源目标,来源位置x,来源位置y,)</p>
    <p>移动模块(id,方向01234无上右下左,格数,类型0主动1被动,来源目标,来源位置x,来源位置y)</p>
    <p>被动移动时若方向为0，则自动判定为朝来源方向移动，格数大于0推，小于0拉。格数绝对值若大于1，则一格一格进行，也就是最多只能在九宫格内移动。推拉会先检测当前位置的相对方向的位置是否阻挡，然后预测最终位置，判断位置是否阻挡。若方向不为0，则视为传送，无论格数绝对值是否为1，都一次执行，并且只探测目标位置是否阻挡。
    </p>
    <p>全局技能模块：为了判定对方的行为并作出反应，任何行为（包括移动、技能、下一回合、受击）发出后都会遍历一次场上所有目标的全局技能模块，判断是否需要执行技能</p>
    <p>制作人物流程：复制model，更改文件名，画图，设计名字技能属性，填写名字*2，填写fixedid，更改图片路劲，填写属性，更改类型、是否敌人、阻挡，填写技能图标、属性，更改技能描述，更改inputx_n_1的x为fixedid，更改skillfunction中input，在所有攻击后加上chess.effect_sum[7]。在game中引入文件，在selector的state4中关联，在生区添加按钮
    </p>
    <p>已解决：位置判定、回合制、攻击范围、攻击范围显示、动画、技能数据、回合属性重置、选择器0、控制区0、传送、检测移动是否有地块、死亡特效、合并input</p>
    <p>待解决：右侧血条、画图、全局技能、队伍、ai、批量制作、提示信息、 移动动画、加状态栏，所有攻击加伤害加成，分离攻击和施法</p>
    <p> 特殊效果
        ：防御、脆弱、昏厥、坚毅（无法被眩晕）、束缚、大型（无法被束缚）、泥沼（移动耗费增加）、火毒（持续掉血）、
        超重（无法被推拉）、免疫（免疫所有特殊效果）、攻击+、攻击-、反应+、反应-、移动+、移动-、最大生命+、最大生命-。0种类1量2持续时间3施加时间（0回合1反应2移动3id4fixedid）
    </p>
    回合结束结算火毒。特殊效果显示。特殊效果测试。防御成功动画、音效。特殊效果存在时人物有特效或者发光之类。增减行动，显示行动改颜色或者加括号。给每个人物加一个标志数组，专门用来储存各种人物的印记，比如定神游、星痕。免疫存在，别的特殊效果图标变暗
    <p>目前特殊人物：定神游脆弱，狂刀假防御</p>
    <p>对象属性:id、fixedid、名称、最大生命、当前生命、移动、最大移动、反应、x、y、技能是否可用、可否移动、图片路劲、方向、是否阻挡、类型（0地块，1人物，2召唤物3障碍物）、技能名称、技能图片路劲、技能冷却、技能类型（1主动0被动）、技能描述、图层(地块0，人物5)、移动模块、受击模块、攻击倍率（正整数）、攻击增加、受击倍率（正整数）、受击增加
    </p>
    <p>对象属性:id、fixedid(1~1000人物1001~2000召唤物2001~3000地块)、name、max_health、health、movement、reflect、x、y、skillable、movable、img、direction
    </p>
    <p>反应：反应越高，每回合行动越早。反应相同时，移动越高行动越早。移动也相同时，越早生成（出现在棋盘上）越早行动。此外，fixedid相同（多个相同人物）可同时移动。</p>
    <p>state = 0;0正常选择,1等待输入对象,2等待输入坐标</p>
    <p>contrl = 1;1生成人物2移动3技能</p>
    <p>典型人物：锁（多）人物攻击、锁（多）地面攻击、传送、推拉、召唤、防御、方向阻挡、移动痕迹、反伤、移动攻击、回血、秒杀、闪避、概率、现实攻击、增益、敌人移动扣血、受击闪避、飞</p>
    <p>血量：10~30，正常20</p>
    <p>移动：1~20，正常5</p>
    <p>反应：1~20，正常5。反应为0的物体可以行动。反应为-1的物体不可以行动。机械>反应见长人物>5>普通人</p>
    <p>图层：地块0，人物5，动画粒子等20+</p>
    <p>回合制：初始0回合，每回合开始，将所有移动、技能冷却初始化。然后寻找class不为0、fixedid不在acted_fixedid中且反应比last_reflect小的最大反应、移动、最小id，将act_find设置为1、记录此fixedid入acted_fixedid。若act_find==0,进入下一回合，重置数组,last_reflect=9999。
    </p>
    <p>active_fixedid：初始-1</p>
    <p>active_reflect：初始0</p>
    <p>active_movement：初始0</p>
    <p>active_id：初始为id+1</p>
    <p>acted_fixedid:数组</p>
    <p>ai：先索敌，判断是否攻击，再根据敌人定位，再寻路移动，每移动都判断一次是否攻击。</p>
    <p>索敌：就近：选择寻路最优的敌人。对将：选择最近的人物。斩首：血量最低的人物。</p>
    <p class="md" onclick="alert('索敌模块：选择选择寻路最优的敌人')">就近
    </p>
    <p class="md" onclick="alert('索敌模块：选择最近的人物（非召唤物）')">对将
    </p>
    <p class="md" onclick="alert('索敌模块：选择血量最低的人物（非召唤物）')">斩首
    </p>
    <p>定位：近战：超敌人靠近。远战：控制敌人在攻击边缘。场外：远离敌人</p>
    <p class="md" onclick="alert('定位模块：超敌人靠近')">近战
    </p>
    <p class="md" onclick="alert('定位模块：让敌人处于自己攻击边缘')">远战</p>
    <p class="md" onclick="alert('定位模块：远离敌人')">场外
    </p>
    <p>寻路： 演算：计算走格数+移动*所需攻击次数最小值，避开陷阱。 </p>
    <p class="md" onclick="alert('寻路模块：计算需要走格数+移动*攻击次数 最小的路劲 ')">演算
    </p>
    <p>性格：暴虐：可攻击队友。团结：不可攻击队友</p>
    <p class="md" onclick="alert('性格模块：可攻击队友）')">暴虐
    </p>
    <p class="md" onclick="alert('性格模块：不可攻击队友')">团结
    </p>
    <p>随机：随性50%。失心20%。马虎10%。清醒5%。严明0%。</p>
    <p class="md" onclick="alert('随机模块：在决定是否移动/移动方向/是否攻击时 有50%可能不按照计划行动')">随性
    </p>
    <p class="md" onclick="alert('随机模块：在决定是否移动/移动方向/是否攻击时 有20%可能不按照计划行动')">失心
    </p>
    <p class="md" onclick="alert('随机模块：在决定是否移动/移动方向/是否攻击时 有10%可能不按照计划行动')">马虎
    </p>
    <p class="md" onclick="alert('随机模块：在决定是否移动/移动方向/是否攻击时 有5%可能不按照计划行动')">清醒
    </p>
    <p class="md" onclick="alert('随机模块：在决定是否移动/移动方向/是否攻击时 有0%可能不按照计划行动')">严明
    </p>
    <p>全屏显示可能不全，但实际是全屏</p>
    <p>地板不能有主动技能，因为地板没有行动回合。</p>
    <p>需要有一个特殊状态数组，记录人物是否处于特殊状态。因为某些被动技能不应该在眩晕等状态停止，所以更改反应会出现诸多问题。</p>
    <p>技能若是因为条件不符无法发动，则不刷新技能页面，也就是保留选择</p>
    <p>初始特殊地形：祭坛：每三回合全屏一点伤害/每回合周围一点伤害。每两回合全屏拉三格。每回合推一格。多龙卷风拉+伤。占塔回血。占塔伤害。占塔小兵。地刺。</p>
    <p>因为图层不能有小数负数，所以地块0~100,人物105,动画粒子等120+</p>
    <p></p>
    <p>人物设计：</p>
    <p>老奶奶：如果反应比目标低，随后将目标的反应降低至比自己低，持续一回合，那么目标就会恰好跳过下回合的行动</p>
    <p>累计伤害</p>
    <p>累计治疗</p>
    <p></p>
    <p>史莱姆</p>
    <p>无人机。召唤一个无人机，攻击1点，生命3，移动5，冷却2回合。无人机暴走，持续三回合（实际有效两回合）攻击加倍，移动+3，结束时无人机爆炸，对周围9格造成伤害，冷却6回合。召唤治疗无人机，每回合为所有无人机回复1点生命，冷却5回合。
    </p>
    <p>近战。修拳者：十宗拳意，上回合未移动，此回合变为二连击2*1伤</p>
    <p>中近。修剑者：剑道，中距离射出剑1伤。近战2伤。每回合只能释放一个技能</p>
    <p>近战。修刀者：狂怒，血量每减少3，伤害+1，初始1伤</p>
    <p>近战。修棍者：速增，每攻击一次，攻击次数+1</p>
    <p>远程。修弓者：致命之箭</p>
    <p>近战范围。修枪者：挑龙，释放一个持续三回合的技能，若改变位置则中断，范围由1*2日字->3*2+1由字->3*3，伤害1->1->2</p>
    <p>防御。修盾者：石化，2回合攻击1伤，第一次受伤后获得持续2回合3防御，5回合防御。</p>
    <p>辅助。修心者：心止如水，给2个友方加1攻，自身可移动</p>
    <p>辅助。修道者：道心无阻，锁定1个敌人，使敌人-1攻击，自身位置改变，目标走出范围，断开</p>
    <p>远程。修毒者：魔毒域，大范围内每回合指定2个敌人持续掉1血（不可叠加）</p>
    <p>近战。修魔者：魔域制裁，消耗3血量提升下一回合攻击力（2->5）</p>
    <p>召唤。御兽神：开局召唤2只神宠，2回合召唤一只，神宠攻击建筑伤害翻倍，每破坏/杀死一个障碍物/人物额外召唤一只神宠</p>
    <p>召唤辅助。修星者：陨星，远程丢陨石，范围内加防御。</p>
    <p>boss远程范围。成仙者：仙威，附近范围内敌人造成伤害-1，仙刺，远程范围</p>
    <p>boss近战。成魔者：看淡，攻击建筑物增加防御（溅射建筑物不算），最高3防，攻击力达3最高2，攻击力达5，最高1。傲视，减防御增加伤害，初始0，>=3点伤害造成溅射1伤，最多5伤。</p>
    <p>螃蟹</p>
    <p>被寄予的防御时长翻倍</p>
    <p>将军</p>
    <p>跳棋</p>
    <p>围棋</p>
    <p>交换生命值</p>
    <p>周围8格1防1治疗的辅助</p>
    <p>蝙蝠</p>
    <p>水滴</p>
    <p>拉，横扫</p>
    <p>毒</p>
    <p>火焰领主</p>
    <p>同归于禁</p>
    <p>盾：以自身为起点，攻击来源方向为终点的向量，在自身面朝方向的分向量大于0，则抵挡一点伤害</p>
    <p>盾：以自身为起点，攻击来源方向为终点的向量，与自身面朝方向平行且同向，则抵挡一点伤害</p>
    <p>放鬼的</p>
    <p>机枪、大炮</p>
    <p>鸟人</p>
    <p>折回攻击</p>
    <p>击退眩晕</p>
    <p>领主</p>
    <p>蝙蝠免伤</p>
    <p>放召唤物不可移动、行动，但是每回合自动朝指定方向第一格攻击一次</p>
    <p>在远程利用装置锁定n个位置，类似陷阱的效果，敌人走上去就造成伤害。</p>
    <p>格斗家</p>
    <p>拳击手</p>
    <p>蔡徐坤</p>
    <p>削弱</p>
    <p>随即效果\秒杀</p>
    <p>贪吃蛇</p>
    <p>攻击目标在同一行第二格，拉一格打一伤三格，看起来是远程，但是不能有障碍物，所以只是节省移动的近战，比较灵活</p>
    <p>奶盾，治疗队友一点并给一回合防御1</p>
    <p>炮，自带炮架，可以推动炮架，象棋里的炮一样，隔山打牛，同行溅射周围4格</p>
    <p>n回合蓄力n次范围伤害</p>
    <p>推动前一行3个人</p>
    <p>正面防御1</p>
    <p>过肩摔</p>
    <p>治疗</p>
    <p>北斗七星
        群星 对5个目标造成1点伤害 星佑 当击败目标，恢复1点血量
        星环 周围8格1点伤害 星佑 抵挡2次伤害的盾
        星陨 大范围2点伤害 星佑 受伤时对周围击退
        星烈 打一下，击退一格，消耗1移动走一格，最多五次。3回合冷却 星佑 每过1回合加1最大移动
        星锁 在目标周围4格生成一颗3血的星，星未死亡，目标不可移动，一回合后自爆对目标造成1点伤害 星佑 技能发动时，使所有北斗七星移动+1
        星痕 留下一道16长的星痕，对星痕上的人添加星痕，受到来自北斗七星的伤害+1，只能使用一次，使用后不可移动，死亡后星痕效果消失，星痕仍留在场上。 星佑 向前传送2格，只能使用一次。
        飞星 召唤4颗飞星，在北斗七星周围时，吸收其伤害，可直线飞行对第一个目标造成伤害 星佑 当场上有飞星，生命值不低于1
        星化 星系角色死亡时，为星化提供一点攻击/移动/反应/两点生命，若场上不存在星化，则在死亡位置生成一个星化，并给予自身的攻击方式</p>
    <p>蔡徐坤：铁山靠，眩晕伤害。传递篮球。下蛋，四个蛋一回合孵化，唱跳rap篮球，分别减移动，伤害，击退，召唤篮球。可讲篮球传递给任意人，是蔡徐坤（或其蛋）则进入运球模式，伤害/效果翻倍，敌人则造成伤害。
        螃蟹：只能横着移动，移动特高。卧沙：一点防御，一回合后改变方向。
        攻击敌人前，对此敌人防御1点。
        改移动的
        警戒模式反应+，移动-，攻击+。非自身回合，有敌人进入直线内，额外请求一次攻击。
        3回合3下0冷却2伤，打一次，下回合移动-2。
        无敌，自损血。
        杀戮模式 冲刺
        若下回合受伤，回血2，若不受伤，加标记，再过1回合后扣1血
    </p>
    <p>吸血</p>
    <p>走路攻击</p>
    <p>军队</p>
    <p>小队</p>
    <p>遁地无法选中</p>
    <p>火搓球，五球自扣血</p>
    <p>水地下水池塘湖泊负面效果</p>
    <p>阵法</p>
    <p>在敌人回合额外行动</p>
    <p>冲刺至敌人，传送至敌人身后，冲刺同等距离。撞墙眩晕。</p>
    <p>改别人移动</p>
    <p>警戒模式反应+，移动-，攻击+</p>
    <p>攻击敌人前，对目标敌人1点防御</p>
    <p>攻击范围不断增大</p>
    <p>行动完回到原地</p>
    <p>治疗/攻击一点</p>
    <p>目标下回合受攻击则加血</p>
    <p>原地不动，小范围每回合+1，不能使用其他技能不能移动</p>
    <p>下回合自身收到的攻击给其他友军恢复等量血量</p>
    <p>目标受的伤转移给自身，同一回合收到三点伤害断开连接，自回</p>
    <p>数回合无敌，无敌后扣很多血</p>
    <p>把队友的血转移给队友</p>
    <p>暴虐小怪：移动时前方有障碍物，消耗1点移动造成一点伤害</p>
    <p>受击传送到目标身后</p>
    <p>只能使用一次的传送</p>
    <p>前方无敌，后方伤害加倍</p>
    <p>打一下击退一格，用来破阵</p>
    <p>近战溅射伤害</p>
    <p>死亡后5回合内收到11次伤害才会死亡，否则复活。</p>
    <p>史莱姆王：召唤。分裂出一个小史莱姆丢向远方</p>
    <p>史莱姆分裂，如果对应位置有建筑物，小史莱姆一点血攻击障碍物一次，直到只剩下一个或都死，有效防止史莱姆分裂会卡墙穿墙或者被墙吃掉</p>
    <p>史莱姆天赋随机，每回合变一次，杀死敌人后锁定天赋</p>
    <p>屎莱姆；周围的建筑加防御，在周围生成建筑物（拉s）</p>
    <p>自杀爆发刺客：1:1换血</p>
    <p>打建筑增加技能范围，防御越高，攻击范围越大</p>
    <p>只能攻击对角线的真伤</p>
    <p>跳一下（实际是瞬移），造成范围伤害</p>
    <p>近战强，移动0，每回合随机移动，可以和军火商配合</p>
    <p>玛恩纳，休息5回合，攻击4回合，3点伤害，休息防御1</p>
    <p>每回合获得一个灵球，可以把灵球传递给范围内的队友，让队友攻击，集齐n个灵球还有特殊效果。比如消耗3灵球，3伤。5灵球防御+1。3灵球范围回血</p>
    <p>几组不同风格的小怪，*以下废弃*每10回合换一种怪。前10回合近战小怪，10~20+远程,20~30+破阵,30~40+治疗,40~50+刺客、机制怪。第10回合一组搭配的小怪，20回合开始，10回合一个boss。破阵可以是暴虐践踏破坏障碍物、溅射破坏障碍物、传送击退破阵
    </p>
    <p>前期正常按回合刷怪，控制不要超过9个（堵满刷怪区），中期破阵，然后刷小怪上压力，要是满了就攒着。后期boss上精英怪，不会堵死，boss死了再进入下一轮刷怪。</p>
</body>

</html>